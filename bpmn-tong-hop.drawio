
<mxfile host="app.diagrams.net">
    <diagram name="Trang-1" id="2cc2d294-3c88-2f0f-22c8-56b4b4bceace">
        <mxGraphModel dx="1426" dy="881" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                
                <!-- Pool chính: Mì Cay Seoul -->
                <mxCell id="pool1" value="Mì Cay Seoul" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="1">
                    <mxGeometry x="40" y="40" width="1200" height="800" as="geometry"/>
                </mxCell>
                
                <!-- Các Lane -->
                <mxCell id="lane1" value="Khách hàng" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="pool1">
                    <mxGeometry x="0" y="60" width="1200" height="120" as="geometry"/>
                </mxCell>
                
                <mxCell id="lane2" value="Nhân viên phục vụ" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="pool1">
                    <mxGeometry x="0" y="180" width="1200" height="120" as="geometry"/>
                </mxCell>
                
                <mxCell id="lane3" value="Nhân viên order" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="pool1">
                    <mxGeometry x="0" y="300" width="1200" height="120" as="geometry"/>
                </mxCell>
                
                <mxCell id="lane4" value="Bộ phận bếp" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="pool1">
                    <mxGeometry x="0" y="420" width="1200" height="120" as="geometry"/>
                </mxCell>
                
                <mxCell id="lane5" value="Nhân viên thu ngân" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="pool1">
                    <mxGeometry x="0" y="540" width="1200" height="120" as="geometry"/>
                </mxCell>
                
                <mxCell id="lane6" value="Quản lý" style="swimlane;whiteSpace=wrap;html=1;" vertex="1" parent="pool1">
                    <mxGeometry x="0" y="660" width="1200" height="120" as="geometry"/>
                </mxCell>

                <!-- === QUY TRÌNH CHÍNH === -->
                
                <!-- Start Event -->
                <mxCell id="start1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fillColor=#ffffff;strokeColor=#000000;" vertex="1" parent="lane1">
                    <mxGeometry x="40" y="40" width="30" height="30" as="geometry"/>
                </mxCell>
                
                <!-- Khách đến quán -->
                <mxCell id="task1" value="Khách đến quán" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#e1d5e7;" vertex="1" parent="lane1">
                    <mxGeometry x="90" y="35" width="120" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Start -> Khách đến -->
                <mxCell id="flow1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane1" source="start1" target="task1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Chọn món -->
                <mxCell id="task2" value="Chọn món" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#e1d5e7;" vertex="1" parent="lane1">
                    <mxGeometry x="230" y="35" width="100" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Khách đến -> Chọn món -->
                <mxCell id="flow2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane1" source="task1" target="task2">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Gateway: Phân loại order -->
                <mxCell id="gateway1" value="" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#ffffff;" vertex="1" parent="lane1">
                    <mxGeometry x="350" y="35" width="40" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Chọn món -> Gateway -->
                <mxCell id="flow3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane1" source="task2" target="gateway1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Nhánh Tại quán -->
                <mxCell id="task3" value="Gọi nhân viên order" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#e1d5e7;" vertex="1" parent="lane1">
                    <mxGeometry x="410" y="20" width="130" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Gateway -> Gọi NV order -->
                <mxCell id="flow4" value="Tại quán" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane1" source="gateway1" target="task3">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Nhánh Online -->
                <mxCell id="task4" value="Đặt món online" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#e1d5e7;" vertex="1" parent="lane1">
                    <mxGeometry x="410" y="50" width="120" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Gateway -> Đặt online -->
                <mxCell id="flow5" value="Online" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane1" source="gateway1" target="task4">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- === NHÂN VIÊN ORDER === -->
                
                <!-- Ghi nhận order -->
                <mxCell id="task5" value="Ghi nhận order" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#d5e8d4;" vertex="1" parent="lane3">
                    <mxGeometry x="410" y="40" width="120" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Message Flow: Gọi NV -> Ghi order -->
                <mxCell id="msg1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#ff0000;dashed=1;" edge="1" parent="pool1" source="task3" target="task5">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Nhập POS -->
                <mxCell id="task6" value="Nhập vào POS" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#d5e8d4;" vertex="1" parent="lane3">
                    <mxGeometry x="550" y="40" width="100" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Ghi order -> Nhập POS -->
                <mxCell id="flow6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane3" source="task5" target="task6">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- === BỘ PHẬN BẾP === -->
                
                <!-- Nhận order -->
                <mxCell id="task7" value="Nhận order từ POS" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#fff2cc;" vertex="1" parent="lane4">
                    <mxGeometry x="550" y="40" width="130" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Message Flow: POS -> Bếp -->
                <mxCell id="msg2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#ff0000;dashed=1;" edge="1" parent="pool1" source="task6" target="task7">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Chế biến món -->
                <mxCell id="task8" value="Chế biến món ăn" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#fff2cc;" vertex="1" parent="lane4">
                    <mxGeometry x="700" y="40" width="120" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Nhận order -> Chế biến -->
                <mxCell id="flow7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane4" source="task7" target="task8">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Món hoàn thành -->
                <mxCell id="event1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=2;fillColor=#ffffff;strokeColor=#000000;" vertex="1" parent="lane4">
                    <mxGeometry x="840" y="45" width="30" height="30" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Chế biến -> Hoàn thành -->
                <mxCell id="flow8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane4" source="task8" target="event1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- === NHÂN VIÊN PHỤC VỤ === -->
                
                <!-- Thông báo món hoàn thành -->
                <mxCell id="task9" value="Nhận thông báo món hoàn thành" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#dae8fc;" vertex="1" parent="lane2">
                    <mxGeometry x="840" y="40" width="160" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Message Flow: Bếp -> Phục vụ -->
                <mxCell id="msg3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#ff0000;dashed=1;" edge="1" parent="pool1" source="event1" target="task9">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Phục vụ món -->
                <mxCell id="task10" value="Phục vụ món tại bàn" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#dae8fc;" vertex="1" parent="lane2">
                    <mxGeometry x="1020" y="40" width="120" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Thông báo -> Phục vụ -->
                <mxCell id="flow9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane2" source="task9" target="task10">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- === KHÁCH HÀNG DÙNG BỮA === -->
                
                <!-- Dùng bữa -->
                <mxCell id="task11" value="Dùng bữa" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#e1d5e7;" vertex="1" parent="lane1">
                    <mxGeometry x="1020" y="35" width="100" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Message Flow: Phục vụ -> Dùng bữa -->
                <mxCell id="msg4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#ff0000;dashed=1;" edge="1" parent="pool1" source="task10" target="task11">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Gateway: Có vấn đề? -->
                <mxCell id="gateway2" value="" style="rhombus;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#ffffff;" vertex="1" parent="lane1">
                    <mxGeometry x="1140" y="35" width="40" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Dùng bữa -> Gateway -->
                <mxCell id="flow10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane1" source="task11" target="gateway2">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- === XỬ LÝ KHIẾU NẠI (QUẢN LÝ) === -->
                
                <!-- Khiếu nại -->
                <mxCell id="task12" value="Khiếu nại" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#f8cecc;" vertex="1" parent="lane6">
                    <mxGeometry x="1190" y="20" width="100" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Gateway -> Khiếu nại -->
                <mxCell id="flow11" value="Có vấn đề" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="pool1" source="gateway2" target="task12">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Xử lý khiếu nại -->
                <mxCell id="task13" value="Xử lý khiếu nại" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#f8cecc;" vertex="1" parent="lane6">
                    <mxGeometry x="1190" y="70" width="100" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Khiếu nại -> Xử lý -->
                <mxCell id="flow12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane6" source="task12" target="task13">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- === THANH TOÁN === -->
                
                <!-- Yêu cầu thanh toán -->
                <mxCell id="task14" value="Yêu cầu thanh toán" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#e1d5e7;" vertex="1" parent="lane1">
                    <mxGeometry x="1190" y="50" width="130" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Gateway -> Thanh toán -->
                <mxCell id="flow13" value="Không vấn đề" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="pool1" source="gateway2" target="task14">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Xử lý thanh toán -->
                <mxCell id="task15" value="Xử lý thanh toán" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#d5e8d4;" vertex="1" parent="lane5">
                    <mxGeometry x="1190" y="40" width="120" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Message Flow: Yêu cầu -> Thanh toán -->
                <mxCell id="msg5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#ff0000;dashed=1;" edge="1" parent="pool1" source="task14" target="task15">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- End Event -->
                <mxCell id="end1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeWidth=4;fillColor=#ffffff;strokeColor=#000000;" vertex="1" parent="lane1">
                    <mxGeometry x="1340" y="40" width="30" height="30" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Thanh toán -> End -->
                <mxCell id="flow14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane1" source="task14" target="end1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- === QUY TRÌNH HẬU CẦN (Song song) === -->
                
                <!-- Kiểm tra tồn kho -->
                <mxCell id="task16" value="Kiểm tra tồn kho" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#fff2cc;" vertex="1" parent="lane4">
                    <mxGeometry x="550" y="90" width="120" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Báo cáo tồn kho -->
                <mxCell id="task17" value="Báo cáo tồn kho" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#f8cecc;" vertex="1" parent="lane6">
                    <mxGeometry x="700" y="90" width="120" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Message Flow: Kiểm kho -> Báo cáo -->
                <mxCell id="msg6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#ff0000;dashed=1;" edge="1" parent="pool1" source="task16" target="task17">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

                <!-- Đặt hàng NCC -->
                <mxCell id="task18" value="Đặt hàng NCC" style="rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;fillColor=#f8cecc;" vertex="1" parent="lane6">
                    <mxGeometry x="840" y="90" width="100" height="40" as="geometry"/>
                </mxCell>
                
                <!-- Sequence Flow: Báo cáo -> Đặt hàng -->
                <mxCell id="flow15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" edge="1" parent="lane6" source="task17" target="task18">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>

            </root>
        </mxGraphModel>
    </diagram>
</mxfile>
