<mxfile>
  <diagram name="BPMN TO-BE - Mì Cay Seoul" id="bpmn-to-be-mi-cay-seoul">
    <mxGraphModel dx="1942" dy="1206" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1000">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Pool chính -->
        <mxCell id="pool1" value="Mì Cay Seoul - Quy Trình TO-BE" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;" vertex="1" parent="1">
          <mxGeometry x="50" y="50" width="1300" height="700" as="geometry"/>
        </mxCell>
        
        <!-- Các Lane với khoảng cách rộng hơn -->
        <mxCell id="lane1" value="Khách hàng" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e1f5fe;" vertex="1" parent="pool1">
          <mxGeometry x="0" y="60" width="1300" height="100" as="geometry"/>
        </mxCell>
        
        <mxCell id="lane2" value="Nhân viên phục vụ" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f3e5f5;" vertex="1" parent="pool1">
          <mxGeometry x="0" y="160" width="1300" height="100" as="geometry"/>
        </mxCell>
        
        <mxCell id="lane3" value="Hệ thống POS" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e8f5e8;" vertex="1" parent="pool1">
          <mxGeometry x="0" y="260" width="1300" height="120" as="geometry"/>
        </mxCell>
        
        <mxCell id="lane4" value="Bếp" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff3e0;" vertex="1" parent="pool1">
          <mxGeometry x="0" y="380" width="1300" height="100" as="geometry"/>
        </mxCell>
        
        <mxCell id="lane5" value="Thu ngân / Quản lý" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fce4ec;" vertex="1" parent="pool1">
          <mxGeometry x="0" y="480" width="1300" height="100" as="geometry"/>
        </mxCell>

        <!-- LANE 1: KHÁCH HÀNG - Sắp xếp thưa hơn -->
        <mxCell id="start1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#FFFFFF;strokeColor=#000000;strokeWidth=2;" vertex="1" parent="lane1">
          <mxGeometry x="30" y="30" width="30" height="30" as="geometry"/>
        </mxCell>

        <mxCell id="a1" value="Đến quán" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bbdefb;" vertex="1" parent="lane1">
          <mxGeometry x="80" y="25" width="100" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="a2" value="Chọn món qua NV" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bbdefb;" vertex="1" parent="lane1">
          <mxGeometry x="200" y="25" width="120" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="a3" value="Thưởng thức món ăn" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bbdefb;" vertex="1" parent="lane1">
          <mxGeometry x="550" y="25" width="130" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="gateway1" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;" vertex="1" parent="lane1">
          <mxGeometry x="700" y="30" width="40" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="a4" value="Yêu cầu thanh toán" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bbdefb;" vertex="1" parent="lane1">
          <mxGeometry x="760" y="25" width="130" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="a5" value="Thanh toán" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bbdefb;" vertex="1" parent="lane1">
          <mxGeometry x="910" y="25" width="100" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="a6" value="Nhận hóa đơn điện tử" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#bbdefb;" vertex="1" parent="lane1">
          <mxGeometry x="1030" y="25" width="140" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="end1" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#FFFFFF;strokeColor=#000000;strokeWidth=3;" vertex="1" parent="lane1">
          <mxGeometry x="1190" y="30" width="30" height="30" as="geometry"/>
        </mxCell>

        <!-- LANE 2: NHÂN VIÊN PHỤC VỤ -->
        <mxCell id="b1" value="Mở bàn trên POS" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1bee7;" vertex="1" parent="lane2">
          <mxGeometry x="80" y="25" width="110" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="b2" value="Nhập order vào POS" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1bee7;" vertex="1" parent="lane2">
          <mxGeometry x="210" y="25" width="120" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="b3" value="Theo dõi tiến độ KDS" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1bee7;" vertex="1" parent="lane2">
          <mxGeometry x="500" y="25" width="130" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="b4" value="Nhận thông báo món hoàn thành" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1bee7;" vertex="1" parent="lane2">
          <mxGeometry x="650" y="25" width="160" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="b5" value="Phục vụ món tại bàn" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1bee7;" vertex="1" parent="lane2">
          <mxGeometry x="830" y="25" width="120" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="b6" value="Cập nhật order thêm" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1bee7;" vertex="1" parent="lane2">
          <mxGeometry x="350" y="65" width="120" height="40" as="geometry"/>
        </mxCell>

        <mxCell id="b7" value="Tạo hóa đơn thanh toán" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1bee7;" vertex="1" parent="lane2">
          <mxGeometry x="970" y="25" width="140" height="40" as="geometry"/>
        </mxCell>

        <!-- SEQUENCE FLOWS với điểm uốn rõ ràng -->
        <mxCell id="flow1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="start1" target="a1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="flow2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="a1" target="b1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="flow3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="b1" target="a2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="135" y="110"/> <!-- Điểm uốn 1 -->
              <mxPoint x="135" y="85"/>  <!-- Điểm uốn 2 -->
            </Array>
          </mxGeometry>
        </mxCell>

        <mxCell id="flow4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="a2" target="b2">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="110"/> <!-- Điểm uốn -->
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Thêm các flows khác với điểm uốn tương tự... -->

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
